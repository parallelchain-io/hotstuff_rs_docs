<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Thread that receives events emitted by the algorithm and block sync server threads and passes them to event handlers."><title>hotstuff_rs::event_bus - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="hotstuff_rs" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../hotstuff_rs/index.html">hotstuff_<wbr>rs</a><span class="version">0.4.0</span></h2></div><h2 class="location"><a href="#">Module event_<wbr>bus</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Aliases</a></li></ul></section><h2><a href="../index.html">In crate hotstuff_<wbr>rs</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">hotstuff_rs</a>::<wbr><a class="mod" href="#">event_bus</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/hotstuff_rs/event_bus.rs.html#6-496">source</a> Â· <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Thread that receives events emitted by the <a href="../algorithm/index.html" title="mod hotstuff_rs::algorithm">algorithm</a> and
<a href="../block_sync/server/struct.BlockSyncServer.html" title="struct hotstuff_rs::block_sync::server::BlockSyncServer">block sync server</a> threads and passes them to event
handlers.</p>
<p>When the thread receives a message containing an <a href="../events/enum.Event.html" title="enum hotstuff_rs::events::Event">event</a>, it triggers the
execution of all handlers defined for the contained event type, where the handlers for each event
type are stored in <a href="struct.EventHandlers.html" title="struct hotstuff_rs::event_bus::EventHandlers"><code>EventHandlers</code></a>.</p>
<p>When no handlers are present in a replicaâ€™s instance of <code>EventHandlers</code> this thread is not started.</p>
<h3 id="event-handlers"><a class="doc-anchor" href="#event-handlers">Â§</a>Event Handlers</h3>
<p>A replicaâ€™s instance of <code>EventHandlers</code> contains:</p>
<ol>
<li>The handlers provided upon building the replica via <a href="../replica/struct.ReplicaSpec.html" title="struct hotstuff_rs::replica::ReplicaSpec"><code>ReplicaSpec</code></a>,
and</li>
<li>If logging is enabled via replicaâ€™s <a href="../replica/struct.Configuration.html" title="struct hotstuff_rs::replica::Configuration">config</a> then also
the default logging handlers defined in <a href="../logging/index.html" title="mod hotstuff_rs::logging">logging</a>.</li>
</ol>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.EventHandlers.html" title="struct hotstuff_rs::event_bus::EventHandlers">Event<wbr>Handlers</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Stores the <code>HandlerPair</code> of user-defined and optional logging handlers for each pre-defined event
type from <a href="../events/index.html" title="mod hotstuff_rs::events">events</a>.</div></li><li><div class="item-name"><a class="struct" href="struct.HandlerPair.html" title="struct hotstuff_rs::event_bus::HandlerPair">Handler<wbr>Pair</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Stores the two optional handlers enabled for an event type that implements the <a href="../logging/trait.Logger.html" title="trait hotstuff_rs::logging::Logger"><code>Logger</code></a> trait,
namely one logging handler, defined in <a href="../logging/index.html" title="mod hotstuff_rs::logging"><code>logging</code></a>, and one user-defined handler,
passed to <a href="../replica/struct.ReplicaSpec.html" title="struct hotstuff_rs::replica::ReplicaSpec"><code>ReplicaSpec</code></a>.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.start_event_bus.html" title="fn hotstuff_rs::event_bus::start_event_bus">start_<wbr>event_<wbr>bus</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Starts the event bus thread, which runs an infinite loop until a shutdown signal is received from
the parent thread. In each iteration of the loop, the thread checks if it received any event
notifications, and if so, then triggers the execution of the handlers defined for the event.</div></li></ul><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">Â§</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.HandlerPtr.html" title="type hotstuff_rs::event_bus::HandlerPtr">Handler<wbr>Ptr</a><span title="Restricted Visibility">&nbsp;ðŸ”’</span> </div><div class="desc docblock-short">Pointer to a handler closure, parametrised by the argument (for our use case, event) type.</div></li></ul></section></div></main></body></html>