<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Subscribable events that are published when significant things happen in the replica."><title>hotstuff_rs::events - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-b0742ba02757f159.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="hotstuff_rs" data-themes="" data-resource-suffix="" data-rustdoc-version="1.83.0 (90b35a623 2024-11-26)" data-channel="1.83.0" data-search-js="search-f0d225181b97f9a4.js" data-settings-js="settings-805db61a62df4bd2.js" ><script src="../../static.files/storage-1d39b6787ed640ff.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-f070b9041d14864c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-0111fcff984fae8f.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../hotstuff_rs/index.html"><img src="https://raw.githubusercontent.com/parallelchain-io/hotstuff_rs/refs/heads/final_touches/readme_assets/HotStuff-rs%20logo.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../hotstuff_rs/index.html"><img src="https://raw.githubusercontent.com/parallelchain-io/hotstuff_rs/refs/heads/final_touches/readme_assets/HotStuff-rs%20logo.png" alt="logo"></a><h2><a href="../../hotstuff_rs/index.html">hotstuff_<wbr>rs</a><span class="version">0.4.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module events</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#event-enum" title="Event enum">Event enum</a></li><li><a href="#registering-event-handlers" title="Registering event handlers">Registering event handlers</a></li><li><a href="#timing" title="Timing">Timing</a></li></ul><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li></ul></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="../index.html">In crate hotstuff_<wbr>rs</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">hotstuff_rs</a></span><h1>Module <span>events</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/hotstuff_rs/events.rs.html#6-309">source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Subscribable events that are published when significant things happen in the replica.</p>
<h3 id="event-enum"><a class="doc-anchor" href="#event-enum">§</a>Event enum</h3>
<p>Significant occurences in the replica include committing a block, starting a new view, broadcasting
a proposal, or receiving a proposal.</p>
<p>Each of these significant occurences correspond to a variant of the <a href="enum.Event.html" title="enum hotstuff_rs::events::Event">event enum</a>. Each
variant tuple in turn contains an inner struct type. For example, the
<a href="enum.Event.html#variant.InsertBlock" title="variant hotstuff_rs::events::Event::InsertBlock">insert block variant</a> contains the <a href="struct.InsertBlockEvent.html" title="struct hotstuff_rs::events::InsertBlockEvent"><code>InsertBlockEvent</code></a> struct type.</p>
<p>Each inner struct stores information that summarizes the particular kind of event. This information
always includes a timestamp corresponding to the exact time when the event occured.</p>
<h3 id="registering-event-handlers"><a class="doc-anchor" href="#registering-event-handlers">§</a>Registering event handlers</h3>
<p>Library users can register event handler closures, these are internally called by the library’s
<a href="../event_bus/fn.start_event_bus.html" title="fn hotstuff_rs::event_bus::start_event_bus">event bus</a> thread when the handler’s particular event variant
happens.</p>
<p>Custom event handlers can be registered using the <a href="../replica/index.html" title="mod hotstuff_rs::replica">replica builder pattern</a>, while
default event handlers that log out events (e.g., into the terminal, or into a log file) can be
enabled in the <a href="../replica/struct.Configuration.html" title="struct hotstuff_rs::replica::Configuration">configuration</a>.</p>
<h3 id="timing"><a class="doc-anchor" href="#timing">§</a>Timing</h3>
<p>Events are always emitted <strong>after</strong> the corresponding occurence is “completed”. So for example, the
<a href="struct.InsertBlockEvent.html" title="struct hotstuff_rs::events::InsertBlockEvent">insert block event</a> is only emitted after the insertion has been persisted into
the backing storage of the block tree.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AdvanceViewEvent.html" title="struct hotstuff_rs::events::AdvanceViewEvent">Advance<wbr>View<wbr>Event</a></div><div class="desc docblock-short">The replica broadcasted an <a href="../pacemaker/messages/struct.AdvanceView.html" title="struct hotstuff_rs::pacemaker::messages::AdvanceView">advance view</a> message to all
peers.</div></li><li><div class="item-name"><a class="struct" href="struct.CollectPCEvent.html" title="struct hotstuff_rs::events::CollectPCEvent">CollectPC<wbr>Event</a></div><div class="desc docblock-short">The replica collected a new <code>phase_certificate</code> from the votes it received from the validators in
the current view.</div></li><li><div class="item-name"><a class="struct" href="struct.CollectTCEvent.html" title="struct hotstuff_rs::events::CollectTCEvent">CollectTC<wbr>Event</a></div><div class="desc docblock-short">The replica collected a new <code>timeout_certificate</code> from the votes it received from the validators in
the current view.</div></li><li><div class="item-name"><a class="struct" href="struct.CommitBlockEvent.html" title="struct hotstuff_rs::events::CommitBlockEvent">Commit<wbr>Block<wbr>Event</a></div><div class="desc docblock-short">A <code>block</code> was committed. This involves persistent changes to the
Block Tree.</div></li><li><div class="item-name"><a class="struct" href="struct.EndSyncEvent.html" title="struct hotstuff_rs::events::EndSyncEvent">EndSync<wbr>Event</a></div><div class="desc docblock-short">The replica exited sync mode, during which it tried to sync with a given peer identifiable by its
<a href="../types/validator_set/struct.VerifyingKey.html" title="struct hotstuff_rs::types::validator_set::VerifyingKey">public key</a>, and inserted a given number of blocks received from the
peer into its block tree.</div></li><li><div class="item-name"><a class="struct" href="struct.InsertBlockEvent.html" title="struct hotstuff_rs::events::InsertBlockEvent">Insert<wbr>Block<wbr>Event</a></div><div class="desc docblock-short">A new <code>block</code> was inserted into the Block Tree in a persistent manner.</div></li><li><div class="item-name"><a class="struct" href="struct.NewViewEvent.html" title="struct hotstuff_rs::events::NewViewEvent">NewView<wbr>Event</a></div><div class="desc docblock-short">The replica sent a <a href="../hotstuff/messages/struct.NewView.html" title="struct hotstuff_rs::hotstuff::messages::NewView">new view</a> message for its current view
to the leader of the next view upon moving to a new view.</div></li><li><div class="item-name"><a class="struct" href="struct.NudgeEvent.html" title="struct hotstuff_rs::events::NudgeEvent">Nudge<wbr>Event</a></div><div class="desc docblock-short">The replica nudged for a block by broadcasting a <a href="../hotstuff/messages/struct.Nudge.html" title="struct hotstuff_rs::hotstuff::messages::Nudge">nudge</a> for the
block to all validators.</div></li><li><div class="item-name"><a class="struct" href="struct.PhaseVoteEvent.html" title="struct hotstuff_rs::events::PhaseVoteEvent">Phase<wbr>Vote<wbr>Event</a></div><div class="desc docblock-short">The replica voted for a phase of a block by sending <code>phase_vote</code> to a leader of the next view.</div></li><li><div class="item-name"><a class="struct" href="struct.ProposeEvent.html" title="struct hotstuff_rs::events::ProposeEvent">Propose<wbr>Event</a></div><div class="desc docblock-short">The replica proposed a block by broadcasting it as a <a href="../hotstuff/messages/struct.Proposal.html" title="struct hotstuff_rs::hotstuff::messages::Proposal">proposal</a>
to all validators.</div></li><li><div class="item-name"><a class="struct" href="struct.PruneBlockEvent.html" title="struct hotstuff_rs::events::PruneBlockEvent">Prune<wbr>Block<wbr>Event</a></div><div class="desc docblock-short">A <code>block</code> was “pruned” (i.e., the block’s siblings were permanently
deleted from the Block Tree).</div></li><li><div class="item-name"><a class="struct" href="struct.ReceiveAdvanceViewEvent.html" title="struct hotstuff_rs::events::ReceiveAdvanceViewEvent">Receive<wbr>Advance<wbr>View<wbr>Event</a></div><div class="desc docblock-short">The replica received an <code>advance_view</code> message from another replica, identified by its
<code>verifying_key</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.ReceiveNewViewEvent.html" title="struct hotstuff_rs::events::ReceiveNewViewEvent">Receive<wbr>NewView<wbr>Event</a></div><div class="desc docblock-short">The replica received a <a href="../hotstuff/messages/struct.NewView.html" title="struct hotstuff_rs::hotstuff::messages::NewView">new view</a> message for the current view from
another replica identifiable by its <a href="../types/validator_set/struct.VerifyingKey.html" title="struct hotstuff_rs::types::validator_set::VerifyingKey">public key</a>.</div></li><li><div class="item-name"><a class="struct" href="struct.ReceiveNudgeEvent.html" title="struct hotstuff_rs::events::ReceiveNudgeEvent">Receive<wbr>Nudge<wbr>Event</a></div><div class="desc docblock-short">The replica received a <code>nudge</code> for the replica’s current view from the leader of the view,
identified by its <a href="../types/validator_set/struct.VerifyingKey.html" title="struct hotstuff_rs::types::validator_set::VerifyingKey"><code>VerifyingKey</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.ReceivePhaseVoteEvent.html" title="struct hotstuff_rs::events::ReceivePhaseVoteEvent">Receive<wbr>Phase<wbr>Vote<wbr>Event</a></div><div class="desc docblock-short">The replica received a <code>phase_vote</code> for the replica’s current view from the replica identified by
<code>origin</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.ReceiveProposalEvent.html" title="struct hotstuff_rs::events::ReceiveProposalEvent">Receive<wbr>Proposal<wbr>Event</a></div><div class="desc docblock-short">The replica received a <code>proposal</code> for the replica’s current view from the leader of the view,
identified by its <a href="../types/validator_set/struct.VerifyingKey.html" title="struct hotstuff_rs::types::validator_set::VerifyingKey"><code>VerifyingKey</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.ReceiveSyncRequestEvent.html" title="struct hotstuff_rs::events::ReceiveSyncRequestEvent">Receive<wbr>Sync<wbr>Request<wbr>Event</a></div><div class="desc docblock-short">The replica’s <a href="../block_sync/server/struct.BlockSyncServer.html" title="struct hotstuff_rs::block_sync::server::BlockSyncServer">sync server</a> received a
<a href="../block_sync/messages/struct.BlockSyncRequest.html" title="struct hotstuff_rs::block_sync::messages::BlockSyncRequest">sync request</a> from a peer identifiable by its
<a href="../types/validator_set/struct.VerifyingKey.html" title="struct hotstuff_rs::types::validator_set::VerifyingKey">public key</a>. Includes information about the requested start height
from which the peer wants to sync, and the limit on the number of blocks that can be sent in a
<a href="../block_sync/messages/struct.BlockSyncResponse.html" title="struct hotstuff_rs::block_sync::messages::BlockSyncResponse">sync response</a>.</div></li><li><div class="item-name"><a class="struct" href="struct.ReceiveTimeoutVoteEvent.html" title="struct hotstuff_rs::events::ReceiveTimeoutVoteEvent">Receive<wbr>Timeout<wbr>Vote<wbr>Event</a></div><div class="desc docblock-short">The replica received a <code>timeout_certificate</code> for the replica’s current view from another replica,
identified by <code>verifying_key</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.SendSyncResponseEvent.html" title="struct hotstuff_rs::events::SendSyncResponseEvent">Send<wbr>Sync<wbr>Response<wbr>Event</a></div><div class="desc docblock-short">The replica’s <a href="../block_sync/server/struct.BlockSyncServer.html" title="struct hotstuff_rs::block_sync::server::BlockSyncServer">sync server</a> sent a
<a href="../block_sync/messages/struct.BlockSyncResponse.html" title="struct hotstuff_rs::block_sync::messages::BlockSyncResponse">sync response</a> to a peer identifiable by its
<a href="../types/validator_set/struct.VerifyingKey.html" title="struct hotstuff_rs::types::validator_set::VerifyingKey">public key</a>. Includes information about the vector of
<a href="../types/block/struct.Block.html" title="struct hotstuff_rs::types::block::Block">blocks</a> and the Highest
<a href="../hotstuff/types/struct.PhaseCertificate.html" title="struct hotstuff_rs::hotstuff::types::PhaseCertificate">Quroum Certificate</a> sent to the peer.</div></li><li><div class="item-name"><a class="struct" href="struct.StartSyncEvent.html" title="struct hotstuff_rs::events::StartSyncEvent">Start<wbr>Sync<wbr>Event</a></div><div class="desc docblock-short">The replica entered sync mode and tried to sync with a given peer, identified by its
<a href="../types/validator_set/struct.VerifyingKey.html" title="struct hotstuff_rs::types::validator_set::VerifyingKey"><code>VerifyingKey</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.StartViewEvent.html" title="struct hotstuff_rs::events::StartViewEvent">Start<wbr>View<wbr>Event</a></div><div class="desc docblock-short">The replica started a new view with a given <a href="../types/data_types/struct.ViewNumber.html" title="struct hotstuff_rs::types::data_types::ViewNumber"><code>ViewNumber</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.TimeoutVoteEvent.html" title="struct hotstuff_rs::events::TimeoutVoteEvent">Timeout<wbr>Vote<wbr>Event</a></div><div class="desc docblock-short">The replica broadcasted a <a href="../pacemaker/messages/struct.TimeoutVote.html" title="struct hotstuff_rs::pacemaker::messages::TimeoutVote">timeout vote</a> message to all
peers.</div></li><li><div class="item-name"><a class="struct" href="struct.UpdateHighestPCEvent.html" title="struct hotstuff_rs::events::UpdateHighestPCEvent">Update<wbr>HighestPC<wbr>Event</a></div><div class="desc docblock-short">The “Highest <code>PhaseCertificate</code>” stored in the block tree was updated.</div></li><li><div class="item-name"><a class="struct" href="struct.UpdateHighestTCEvent.html" title="struct hotstuff_rs::events::UpdateHighestTCEvent">Update<wbr>HighestTC<wbr>Event</a></div><div class="desc docblock-short">The “Highest <code>TimeoutCertificate</code>” stored in the block tree was updated.</div></li><li><div class="item-name"><a class="struct" href="struct.UpdateLockedPCEvent.html" title="struct hotstuff_rs::events::UpdateLockedPCEvent">Update<wbr>LockedPC<wbr>Event</a></div><div class="desc docblock-short">The “Locked <code>PhaseCertificate</code>” stored in the block tree was updated.</div></li><li><div class="item-name"><a class="struct" href="struct.UpdateValidatorSetEvent.html" title="struct hotstuff_rs::events::UpdateValidatorSetEvent">Update<wbr>Validator<wbr>SetEvent</a></div><div class="desc docblock-short">The “Committed Validator Set” stored in the block tree, was updated.</div></li><li><div class="item-name"><a class="struct" href="struct.ViewTimeoutEvent.html" title="struct hotstuff_rs::events::ViewTimeoutEvent">View<wbr>Timeout<wbr>Event</a></div><div class="desc docblock-short">The replica’s view, with a given <a href="../types/data_types/struct.ViewNumber.html" title="struct hotstuff_rs::types::data_types::ViewNumber"><code>ViewNumber</code></a>, timed out.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Event.html" title="enum hotstuff_rs::events::Event">Event</a></div><div class="desc docblock-short">Enumerates all events defined for HotStuff-rs.</div></li></ul></section></div></main></body></html>